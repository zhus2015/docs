# DNS轮询

### 优点：

- 基本无成本，使用域名服务商的免费解析(不包含自建DNS)
- 部署方便，只需要在DNS解析中增加对应的公网IP即可

### 缺点：

- 健康检查不及时，如果出现某台服务器故障，DNS服务器无法知晓，依旧会分配到故障服务器，修改DNS同步到所有服务商需要不少时间，如果设置较短的缓存时间会造成网络带宽压力
  - 部分浏览器内置了DNS缓存刷新时间
    - Chrome对每个域名默认缓存60s
    -  IE将DNS缓存30min 
    -  Firefox有DNS缓存功能，默认缓存时间1分钟 ，可以自定义修改
- 分配不均，DNS服务器无法感知后端服务器的压力，如果后端服务器配置不同或者处理不及时导致某台服务器压力较大时，任然会将连接分配到该服务器
-  会话保持，如果是需要身份验证的网站，在不修改软件构架的情况下，这点是比较致命的，因为DNS解析无法将验证用户的访问持久分配到同一服务器。虽然有一定的本地DNS缓存，但是很难保证在用户访问期间，本地DNS不过期，而重新查询服务器并指向新的服务器，那么原服务器保存的用户信息是无法被带到新服务器的，而且可能要求被重新认证身份，来回切换时间长了各台服务器都保存有用户不同的信息，对服务器资源也是一种浪费 

